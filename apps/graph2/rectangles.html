<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>Graph2</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <!--<![endif]-->
    <script src='color_data.js'></script>
    <script src='//localhost:8080/packages/util/dist/index.js'></script>
    <script src='//localhost:8080/packages/common/dist/index.js'></script>
    <script src='//localhost:8080/packages/api/dist/index.js'></script>
    <script src='//localhost:8080/packages/html/dist/index.js'></script>
    <script src='//localhost:8080/packages/react/dist/index.js'></script>
    <script src='//localhost:8080/packages/graph/dist/index.js'></script>
    <script>
        window.hpccjs = Object.keys(window).filter(n => n.indexOf('@hpcc-js/') === 0).reduce((o, n) => {
            o[n.split('/')[1]] = window[n];
            return o;
        }, {});
    </script>
    <style>
        #target {
            position: fixed;
            top: 20px;
            right: 20px;
            bottom: 20px;
            left: 20px;
        }
    </style>
</head>

<body>
    <div id="target"></div>
    <script>
        initGraph("target");

        function initGraph(target) {
            const data = getData({
                score_mode: "rgb-avg",
                square_size: 32,
                sameness_threshold: 0.5,
                color_values: [32, 64, 160, 192]
            });
            console.log('data === ', data);
            const graph = new hpccjs.graph.Graph2()
                .target(target)
                .vertexRenderer(hpccjs.react.Rectangle)
                .data(data)
                .layout("Hierarchy")
                .render();
        }
    </script>
</body>

</html>